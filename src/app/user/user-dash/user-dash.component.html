
<div class="spinner">
    <mat-spinner *ngIf="loading | async ; else elseBlock"></mat-spinner>
   </div>

   <ng-template #elseBlock>
    <div class="container">

 
    

        <div class="m-4" *ngIf="movies.length == 0">
             <h1>No Movies Available</h1>
        </div>
 
 
        <div class="m-4" *ngIf="movies.length > 0">
         <h1><strong>List Of Movies Available to Book</strong></h1>
    </div>
 
     <table *ngIf="movies.length > 0" class="table table-striped table-hover table-bordered">
         <thead>
             <tr>
                 <th>Name</th>
                 <th>Theatre</th>
                 <th>Total Seats</th>
                 <th>Seats Available</th>
                 <th>Status</th>
                 <th>Book</th>
             </tr>
         </thead>
 
            <tr *ngFor="let movie of movies">
                <td>{{movie?.movieName}}</td>
                <td>{{movie?.theatreName}}</td>
                <td>{{movie?.theatre.totalSeats}}</td>
                <td >{{movie?.seatsAvailable}}</td>
                <td   [ngClass]="{'green': movie.status === 'Available', 'yellow' : movie.status == 'Filling' , 'red' : movie.seatsAvailable == 0 }"><strong>{{movie.status}}</strong></td>
                <td>
                   <button [disabled]="movie.seatsAvailable == 0 " routerLink="/book/{{movie.id}}" class="btn btn-info">Book</button>
                </td>
            </tr>
 
          <tbody>
 
          </tbody>
     </table>
 
 </div>
   </ng-template>


